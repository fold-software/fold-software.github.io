var TIME_1,resize,scroll,SCROLL_SPEED=0,SCROLL_MIN_SPEED=.01,SCROLL_MAX_SPEED=20,SCROLL_SPEED_WHEEL=1,SCROLL_SPEED_ARROW=SCROLL_SPEED_WHEEL,SCROLL_SPEED_PAGE=SCROLL_MAX_SPEED,SCROLL_FRICTION=.95;u(document).on("wheel",function(ev){if(!window.matchMedia("(max-width: 600px)").matches)return SCROLL_SPEED+=Math.sign(ev.deltaY)*SCROLL_SPEED_WHEEL}),u(document).on("keydown",function(ev){if(!window.matchMedia("(max-width: 600px)").matches)switch(ev.code){case"Home":return u("main").nodes[0].scrollLeft=0;case"End":return u("main").nodes[0].scrollLeft=u(".post").size().width*u(".post").length;case"ArrowUp":case"ArrowLeft":return SCROLL_SPEED-=SCROLL_SPEED_ARROW;case"ArrowDown":case"ArrowRight":return SCROLL_SPEED+=SCROLL_SPEED_ARROW;case"PageUp":return SCROLL_SPEED-=SCROLL_SPEED_PAGE;case"PageDown":case"Space":return SCROLL_SPEED+=SCROLL_SPEED_PAGE}}),TIME_1=void 0,scroll=function(TIME_NOW){var TIME_DELTA;return void 0===TIME_1&&(TIME_1=TIME_NOW),TIME_DELTA=TIME_NOW-TIME_1,TIME_1=TIME_NOW,u("main").nodes[0].scrollLeft+=SCROLL_SPEED*TIME_DELTA,SCROLL_SPEED*=Math.pow(SCROLL_FRICTION,TIME_DELTA),Math.abs(SCROLL_SPEED)<SCROLL_MIN_SPEED&&(SCROLL_SPEED=0),Math.abs(SCROLL_SPEED)>SCROLL_MAX_SPEED&&(SCROLL_SPEED=SCROLL_MAX_SPEED*Math.sign(SCROLL_SPEED)),requestAnimationFrame(scroll)},requestAnimationFrame(scroll),resize=function(){return u(".post").each(function(el){var mid,p_el,pos,pre,text;for(u(el).hasClass("destaque")&&u(el).addClass("resizing"),p_el=u(el).find(".text p"),u(p_el).children(".overflow").removeClass("overflow"),u(p_el).children(".elipsis").remove(),text=u(p_el).text(),mid=0;el.clientHeight<el.scrollHeight&&mid<text.split(" ").length;)mid++,pre=text.split(" ").slice(0,-mid),pos=text.split(" ").slice(-mid),u(p_el).html(pre.join(" ")+'<span class="elipsis"> ... </span> <span class="overflow">'+pos.join(" ")+"</span>");if(u(el).hasClass("destaque"))return u(el).removeClass("resizing")})},window.addEventListener("resize",resize),window.addEventListener("load",resize),u(".post .img, .post .info, .post p").handle("click",function(){return u(this).closest(".post").find("a").nodes[0].click()});